<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">

    <title><!--(auto-fill by runme.js--></title>

    <!-- ChiliPeppr is based on bootstrap CSS. -->
    <link rel="stylesheet" type="text/css" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">

    <!-- Customized version of require.js for ChiliPeppr. Please see require.js docs for how
    ChiliPeppr's dependency system works as it's based on require.js. -->
    <script type='text/javascript' src="//i2dcui.appspot.com/js/require.js"></script>

    <!-- widget.css DON'T REMOVE -->
    <style type='text/css'>
        /* widget.css will get inlined here by runme.js. don't remove this comment or inlining will fail. */
    </style>
    <link rel="stylesheet" type="text/css" href="widget.css">
    <!-- DON'T REMOVE end widget.css -->

    <!-- widget.js DON'T REMOVE -->
    <script type='text/javascript'>
        //<![CDATA[
        /* widget.js will get inlined here by runme.js. don't remove this comment or inlining will fail. */
        //]]>
    </script>
    <script type='text/javascript' src="widget.js"></script>
    <!-- DON'T REMOVE end widget.js -->

</head>

<body>
    <div id="com-chilipeppr-widget-grbl" class="panel panel-default">
    <div class="panel-heading">
        <div class="btn-toolbar pull-right" role="toolbar" >
            <div class="btn-group">
                <button type="button" class="btn btn-xs btn-default btn-danger grbl-feedhold" data-delay="500" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Feedhold" data-content="Stop movement immediately. Maintains positional accuracy. Sends ! command to GRBL which jumps past the planner buffer so you get immediate stop. Movement can be resumed with ~ command. If you want to jog you should flush queue with CTRL+X."><span class="glyphicon glyphicon-stop"></span></button>
                <button type="button" class="btn btn-xs btn-default grbl-cyclestart"  data-delay="500" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Cycle Start" data-content="Resume movement from stopping point"><span class="">~</span></button>
                <button type="button" class="btn btn-xs btn-default grbl-verbose"  data-delay="500" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Toggle Verbose Output" data-content="Toggle verbose mode to show query responses in console - defaults to disabled, green when enabled"><span class="">v</span></button>
                <!--<button type="button" class="btn btn-xs btn-default grbl-queueflush"  data-delay="500" data-animation="true" data-placement="auto" data-container="body" data-trigger="hover" data-title="Queue Flush" data-content="Empty planner buffer. Used for jogging and other cycles"><span class="">%</span></button>-->
                <button type="button" class="btn btn-xs btn-default grbl-reset" data-toggle="popover" data-placement="auto" data-container="body" data-content="GRBL Soft Reset" data-trigger="hover" ><span class=""></span>Ctrl+X</button><!--glyphicon glyphicon-refresh-->
                <button type="button" id="com-chilipeppr-widget-grbl-btnoptions" class="btn btn-default btn-xs"><span class="glyphicon glyphicon-cog"></span></button>
            </div>
            <div class="btn-group">
                <button type="button" class="btn btn-xs btn-default hidebody"><span class="glyphicon glyphicon-chevron-up"></span></button>
            </div>
            <div class="btn-group">
                <div class="dropdown">
                <button type="button" class="btn btn-xs btn-default dropdown-toggle" data-toggle="dropdown"><span class="caret"></span></button>
                <ul class="dropdown-menu dropdown-menu-right" role="menu">
                <!-- <li class="divider"></li> -->
                    <!-- <li role="presentation" class="dropdown-header fork-name"></li>
                    <li><a href="" target="_blank" class="standalone">View Widget Standalone</a></li>
                    <li><a href="" target="_blank" class="fork">Fork Widget</a></li> -->
                </ul>
                </div>
            </div>
        </div>
        <span class="panel-title" data-toggle="popover">GRBL v2</span>
    </div>
    <div id="com-chilipeppr-widget-grbl-body" class="panel-body">
        <div id="grbl-buffer-warning" style="color:red;font-size:12px;text-align:center;">
            You must connect to your GRBL device using the GRBL buffer algorithm in this workspace.  Connecting to any other buffer (default, tinyg, etc) will cause unpredictable behavior.<br/><br/>
        </div>
        <div class="container-fluid com-chilipeppr-interface-cnccontroller-stat">
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-state">
                    State
                </div>
                <div class="col col-xs-9 well" id='stat-state-background-box'>
                    <span class="stat-sm stat-state">Offline</span>
                </div>
            </div><!-- row -->
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-mcoords">
                    Machine Coords (mm)
                </div>
                <div class="col col-xs-9 well">
                    <span class="stat-sm stat-mcoords">0</span>
                </div>
            </div>
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-units">
                    Units
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-units">-</span>
                </div>
                <div class="col col-xs-3 lblpad" id="ttl-feedrate">
                    Feedrate
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-feedrate">0</span>                   
                </div>
            </div><!-- row -->
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-distance">
                    Distance
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-distance">-</span>
                </div>
                <div class="col col-xs-3 lblpad" id="ttl-motion">
                    Motion
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-motion">-</span>
                </div>
            </div><!-- row -->
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-wcs">
                    WCS
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-wcs">-</span>
                </div>
                <div class="col col-xs-3 lblpad" id="ttl-plane">
                    Plane
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-plane">-</span>
                </div>
            </div><!-- row -->
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-coolant">
                    Coolant
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-coolant">-</span>
                </div>
                <div class="col col-xs-3 lblpad" id="ttl-spindle">
                    Spindle
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-spindle">-</span>
                </div>
            </div><!-- row -->
            <div class="row stat-row">
                <div class="col col-xs-3" id="ttl-queue">
                    SPJS Queue
                </div>
                <div class="col col-xs-3 well">
                    <span class="stat-sm stat-queue">0</span>
                </div>
            </div><!-- row -->
            <span style="font-size:0.8em;">(These parameters may not update in real time)</span>
        </div>
    </div>
    <div id="com-chilipeppr-widget-grbl-ftr" class="panel-footer" style="font-size:10px;">Test widget by yg copied from GRBL widget of Chilipeppr</div>
</div>

<div class="modal fade " id="com-chilipeppr-widget-grbl-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">GRBL Config Settings</h4>
      </div>
      <div class="modal-body">
          <p style="color:red;">WARNING: This feature is extremely unstable and may wipe GRBL settings. Back up all output from $$ before attempting to save config through this window.</p>
          <div id="grbl-config-div" class="form-horizontal" role="form">
              
              
          </div>
          
      </div>
    </div>
  </div>
</div>
</body>

</html>
